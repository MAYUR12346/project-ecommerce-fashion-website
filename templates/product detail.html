<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail</title>
    <style>
        /* Include the same styles as index.html */
        .product-detail {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
            display: grid;
            gap: 30px;
            grid-template-columns: 1fr 1fr;
        }

        .similar-products {
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .product-detail {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="detailContainer"></div>
    <div class="similar-products container" id="similarProducts"></div>

    <script>
        const product = JSON.parse(localStorage.getItem('currentProduct'));
        const similarProducts = JSON.parse(localStorage.getItem('similarProducts'));

        // Render Product Detail
        document.getElementById('detailContainer').innerHTML = `
            <div class="product-detail">
                <img src="${product.image}" style="max-width: 500px; border-radius: 8px;">
                <div>
                    <h1>${product.title.replace(/\n/g, '<br>')}</h1>
                    <div class="price-section">
                        <span class="current-price">${product.currentPrice}</span>
                        <span class="original-price">${product.originalPrice}</span>
                        <span class="discount">${product.discount}</span>
                    </div>
                    <div class="delivery-info">
                        ${product.delivery}<br>
                        ${product.minOrder}
                    </div>
                    <div class="fulfillment">
                        ${product.fulfillment}
                    </div>
                </div>
            </div>
        `;

        // Render Similar Products
        const similarContainer = document.getElementById('similarProducts');
        similarContainer.innerHTML = '<h2>Similar Products</h2>' + similarProducts.map(p => `
            <div class="product-card" onclick="window.location.href='product-detail.html'">
                <img src="${p.image}" class="product-image">
                <h3 class="product-title">${p.title.replace(/\n/g, '<br>')}</h3>
                <div class="price-section">
                    <span class="current-price">${p.currentPrice}</span>
                    <span class="original-price">${p.originalPrice}</span>
                    <span class="discount">${p.discount}</span>
                </div>
            </div>
        `).join('');
    </script>
</body>
</html>